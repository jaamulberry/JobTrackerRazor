<?xml version="1.0"?>
<Container>
    <Name>JobAppRazorWeb</Name>
    <Repository>ghcr.io/jaamulberry/jobtrackerrazor:latest</Repository>
    <Shell>bash</Shell>
    <Overview>ASP.NET Razor app with SQLite database persistence</Overview>
    <Category>Productivity:Web</Category>
    <WebUI>http://[IP]:[PORT:31300]/</WebUI>
    <Description>JobAppRazorWeb container running a Blazor/Razor web interface with a persistent SQLite database.
        Ensure your SQLite file path points to a valid Unraid share so data survives container updates.</Description>

    <!-- Port Configuration -->
    <Config Name="Web Port" Target="31300" Default="31300" Mode="tcp"
            Description="Port used to access the Job Tracker web interface (e.g. http://serverip:31300)"
            Type="Port" Display="always" Required="true" Mask="false">31300</Config>

    <!-- Data Directory -->
    <Config Name="Data Directory" Target="/data" Default="/mnt/user/appdata/jobapp" Mode="rw"
            Description="Directory mapped inside the container for app configuration and runtime files. 
Recommended: keep under /mnt/user/appdata/ for easy backup."
            Type="Path" Display="always" Required="true" Mask="false">/mnt/user/appdata/jobapp</Config>

    <!-- SQLite Database -->
    <Config Name="Data Directory" Target="/data" Default="/mnt/user/external_dbs/jobapp" Mode="rw"
            Description="Directory mapped into /data inside the container. The app will create or open /data/jobs.sqlite here."
            Type="Path" Display="always" Required="true" Mask="false">/mnt/user/external_dbs/jobapp</Config>
    
    <!-- Readonly env var for the app (kept in Advanced) -->
    <Config Name="DB_PATH" Target="DB_PATH" Default="/data/jobs.sqlite" Mode=""
            Description="Environment variable used by the app. Matches the container path of the selected DB file."
            Type="Variable" Display="advanced" Required="true" Mask="false">/data/jobs.sqlite</Config>
</Container>
